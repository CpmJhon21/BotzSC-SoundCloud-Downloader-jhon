<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>File Upload</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',sans-serif}
    body{background:#0b0b0f;color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center}
    .container{width:100%;max-width:520px;padding:24px}
    .card{background:#12121a;border-radius:14px;padding:28px;box-shadow:0 0 0 1px rgba(255,255,255,.05)}
    .title{font-size:22px;font-weight:600;margin-bottom:6px}
    .subtitle{font-size:14px;color:#a1a1aa;margin-bottom:22px}
    .dropzone{border:2px dashed #2f2f46;border-radius:12px;padding:36px;text-align:center;cursor:pointer;transition:.2s}
    .dropzone:hover{border-color:#6366f1;background:rgba(99,102,241,.05)}
    .dropzone svg{width:42px;height:42px;margin-bottom:12px;color:#6366f1}
    .dropzone p{font-size:14px;color:#d4d4d8}
    .file-info{margin-top:16px;font-size:13px;color:#a1a1aa}
    .btn{margin-top:22px;width:100%;padding:14px;border:none;border-radius:10px;background:#6366f1;color:#fff;font-size:15px;font-weight:600;cursor:pointer}
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .footer{margin-top:18px;text-align:center;font-size:12px;color:#71717a}
    input[type=file]{display:none}
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <div class="title">Upload your file</div>
      <div class="subtitle">Drag & drop or click to upload</div>

      <label class="dropzone" id="dropzone">
        <svg fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 16v-8m0 0l-3 3m3-3l3 3M20 16.5a4.5 4.5 0 00-1.5-8.742A6 6 0 104.5 16.5"/></svg>
        <p>Click to upload or drag file here</p>
        <input type="file" id="fileInput" />
      </label>

      <div class="file-info" id="fileInfo">No file selected</div>
      <button class="btn" id="uploadBtn" disabled>Upload</button>

      <div class="footer">Max file size 100MB</div>
    </div>
  </div>

  <script>
    const fileInput=document.getElementById('fileInput');
    const fileInfo=document.getElementById('fileInfo');
    const uploadBtn=document.getElementById('uploadBtn');
    const dropzone=document.getElementById('dropzone');

    fileInput.addEventListener('change',()=>{
      if(fileInput.files.length){
        const f=fileInput.files[0];
        fileInfo.textContent=`${f.name} (${(f.size/1024/1024).toFixed(2)} MB)`;
        uploadBtn.disabled=false;
      }
    });

    ;['dragenter','dragover'].forEach(e=>dropzone.addEventListener(e,ev=>{ev.preventDefault();dropzone.style.borderColor='#6366f1'}));
    ;['dragleave','drop'].forEach(e=>dropzone.addEventListener(e,ev=>{ev.preventDefault();dropzone.style.borderColor='#2f2f46'}));

    dropzone.addEventListener('drop',e=>{
      const files=e.dataTransfer.files;
      if(files.length){
        fileInput.files=files;
        const f=files[0];
        fileInfo.textContent=`${f.name} (${(f.size/1024/1024).toFixed(2)} MB)`;
        uploadBtn.disabled=false;
      }
    });

    uploadBtn.addEventListener('click',()=>{
      if(!fileInput.files.length) return;
      uploadBtn.disabled=true;
      uploadBtn.textContent='Uploading...';

      const formData=new FormData();
      formData.append('file',fileInput.files[0]);

      fetch('https://api.botzaku.eu.org/api/upload',{
        method:'POST',
        body:formData
      })
      .then(res=>res.json())
      .then(data=>{
        uploadBtn.textContent='Upload';
        uploadBtn.disabled=false;
        if(data.url){
          fileInfo.innerHTML=`Upload success: <a href="${data.url}" target="_blank" style="color:#6366f1">${data.url}</a>`;
        }else{
          fileInfo.textContent=JSON.stringify(data);
        }
      })
      .catch(err=>{
        uploadBtn.textContent='Upload';
        uploadBtn.disabled=false;
        fileInfo.textContent='Upload failed';
        console.error(err);
      });
    });
    });
  </script>
</body>
</html>
